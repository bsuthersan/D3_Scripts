<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title>Looping transitions with D3</title>
</head>

<body>



<script src="https://d3js.org/d3.v4.min.js"></script>

<!--We begin by drawing a circle in the svg-->
    
<svg width = "1000", height = "1000">
    <circle cx = "100", cy = "100", r = "10"></circle>
</svg>    
    
<script>


//Now, we select the circle, and apply the 'repeat' function to it
  var timeCircle = d3.selectAll("circle")
  repeat();

function repeat() {
      timeCircle
        .attr('cx', 40)      
        .attr('cy', 250)
        .attr("fill","steelblue")
        .transition()        
        .duration(3000)      
        .attr('cx', 920)
        .attr("fill","#99CC00")
        .transition()        
        .duration(3000)      
        .attr('cx', 40)      
        .on("end", repeat);  
    };
    
    
</script>
</body>
